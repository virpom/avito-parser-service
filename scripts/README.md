# Получение Cookies для Avito Parser

## Проблема
Avito требует SMS-код при первой авторизации. В Kubernetes нельзя показать браузер с UI.

## Решение
Получить cookies **локально** на своем компе, потом вставить в админку.

## Инструкция

### 1. Установить зависимости (если еще не установлены)
```bash
cd api-services/avito-parser-service
npm install
```

### 2. Запустить скрипт
```bash
node scripts/get-cookies.js
```

### 3. В открывшемся браузере:
- Введите логин (телефон/email)
- Введите пароль
- Введите SMS-код
- Дождитесь авторизации
- Вернитесь в терминал и нажмите **Enter**

### 4. Скопировать cookies
Скрипт выведет длинную строку JSON - это cookies.

### 5. Вставить в админку
- Зайдите в админку
- Добавьте/редактируйте аккаунт Avito
- Поставьте галочку "Использовать парсер"
- Введите логин от Avito (тот же что использовали)
- В поле "Cookies" вставьте скопированную строку
- Сохраните

### 6. Готово!
Теперь парсер будет использовать эти cookies для работы без повторной авторизации.

## Как часто обновлять cookies?
Cookies живут ~30 дней. Если парсер начнет выдавать ошибки авторизации - повторите процесс.

## Альтернатива
Можно добавить поле "Cookies" в форму добавления аккаунта в админке и вставлять туда вручную.

